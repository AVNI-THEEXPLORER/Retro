<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" type="image/x-icon" href="../Favicon image/favicon-32x32.png">
  <link rel="stylesheet" href="../Css-files/forgotpass1.css">
  <title>Retro - Forgot Password</title>
</head>
<body>
    <div class="circle-container">
      <!-- Circles for background animation -->
      <div class="circle" style="background-color: rgb(255, 181, 107) !important; left: 504px; top: 59px; scale: 1;"></div>
      <div class="circle" style="background-color: rgb(253, 175, 105) !important; left: 504px; top: 59px; scale: 0.95;"></div>
      <!-- Additional circles... -->
      <div class="circle" style="background-color: rgb(96, 0, 95) !important; left: 504px; top: 59px; scale: 0.05;"></div>
  </div>
      <div class="home-btn"><a href="../index.html" style="font-family: var(--ff-philosopher);"><b>Retro</b></a></div>
      <div class="container" style="display: flex; align-items: center; justify-content: center;">
        <div class="card-forgot">
            <h1>Forgot Password</h1>
            <form id="forgotPassForm">
              <div class="textfield">
                <label for="email" style="color: black;">Email</label>
                <input type="email" id="email" name="email" placeholder="name@example.com" required>
              </div>
              <button type="submit" class="btn-reset">Reset Password</button>
              <p id="error-message" class="error-message"></p>
            </form>
            <p class="switch-link">Remembered your password? <a href="login.html">Login</a></p>
        </div>
      </div>

  <script>
    const coords = { x: 0, y: 0 };
    const circles = document.querySelectorAll(".circle");
    const emailInput = document.getElementById('email');
    const errorMessage = document.getElementById('error-message');

    const colors = [
      "#ffb56b", "#fdaf69", "#f89d63", "#f59761", "#ef865e", 
      "#ec805d", "#e36e5c", "#df685c", "#d5585c", "#d1525c", 
      "#c5415d", "#c03b5d", "#b22c5e", "#ac265e", "#9c155f", 
      "#950f5f", "#830060", "#7c0060", "#680060", "#60005f", 
      "#48005f", "#3d005e"
    ];

    circles.forEach(function (circle, index) {
      circle.x = 0;
      circle.y = 0;
      circle.style.backgroundColor = colors[index % colors.length];
    });

    window.addEventListener("mousemove", function (e) {
      coords.x = e.clientX;
      coords.y = e.clientY;
    });

    function animateCircles() {
      let x = coords.x;
      let y = coords.y;

      circles.forEach(function (circle, index) {
        circle.style.left = x - 12 + "px";
        circle.style.top = y - 12 + "px";
        circle.style.scale = (circles.length - index) / circles.length;

        circle.x = x;
        circle.y = y;

        const nextCircle = circles[index + 1] || circles[0];
        x += (nextCircle.x - x) * 0.3;
        y += (nextCircle.y - y) * 0.3;
      });

      requestAnimationFrame(animateCircles);
    }

    animateCircles();

    // Email validation function
    function validateEmail(email) {
      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailPattern.test(email);
    }

    // Real-time email validation
    emailInput.addEventListener('input', function() {
      if (validateEmail(emailInput.value)) {
        errorMessage.textContent = '';
      } else {
        errorMessage.textContent = 'The email format is invalid. Ensure it includes “@” and a domain name (e.g., user@example.com).';
      }
    });

    // Form submission event listener for password reset
    document.getElementById('forgotPassForm').addEventListener('submit', function(event) {
      event.preventDefault();

      const emailInputValue = emailInput.value;

      if (!validateEmail(emailInputValue)) {
        errorMessage.textContent = 'The email format is invalid. Ensure it includes “@” and a domain name (e.g., user@example.com).';
      } else {
        window.location.assign('reset-confirmation.html');
      }
    });
  </script>
  <div class="gtranslate_wrapper"></div>
  <script>window.gtranslateSettings = {"default_language":"en","detect_browser_language":true,"wrapper_selector":".gtranslate_wrapper"}</script>
  <script src="https://cdn.gtranslate.net/widgets/latest/float.js" defer></script>
</body>
</html>
